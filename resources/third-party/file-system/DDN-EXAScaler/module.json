{
  "header": "Copyright 2021 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n     http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.",
  "footer": "",
  "inputs": [
    {
      "name": "admin",
      "type": "object({\n    username       = string\n    ssh_public_key = string\n  })",
      "description": "User for remote SSH access",
      "default": {
        "ssh_public_key": "~/.ssh/id_rsa.pub",
        "username": "admin"
      },
      "required": false
    },
    {
      "name": "boot",
      "type": "object({\n    disk_type   = string\n    auto_delete = bool\n  })",
      "description": "Boot disk properties",
      "default": {
        "auto_delete": true,
        "disk_type": "pd-standard"
      },
      "required": false
    },
    {
      "name": "cls",
      "type": "object({\n    node_type  = string\n    node_cpu   = string\n    nic_type   = string\n    node_count = number\n    public_ip  = bool\n  })",
      "description": "Compute client properties",
      "default": {
        "nic_type": "GVNIC",
        "node_count": 0,
        "node_cpu": "Intel Cascade Lake",
        "node_type": "n2-standard-2",
        "public_ip": true
      },
      "required": false
    },
    {
      "name": "clt",
      "type": "object({\n    disk_bus   = string\n    disk_type  = string\n    disk_size  = number\n    disk_count = number\n  })",
      "description": "Compute client target properties",
      "default": {
        "disk_bus": "SCSI",
        "disk_count": 0,
        "disk_size": 256,
        "disk_type": "pd-standard"
      },
      "required": false
    },
    {
      "name": "fsname",
      "type": "string",
      "description": "EXAScaler filesystem name, only alphanumeric characters are allowed, and the value must be 1-8 characters long",
      "default": "exacloud",
      "required": false
    },
    {
      "name": "image",
      "type": "object({\n    project = string\n    name    = string\n  })",
      "description": "Source image properties",
      "default": {
        "name": "exascaler-cloud-v522-centos7",
        "project": "ddn-public"
      },
      "required": false
    },
    {
      "name": "local_mount",
      "type": "string",
      "description": "Mountpoint (at the client instances) for this EXAScaler system",
      "default": "/shared",
      "required": false
    },
    {
      "name": "mds",
      "type": "object({\n    node_type  = string\n    node_cpu   = string\n    nic_type   = string\n    node_count = number\n    public_ip  = bool\n  })",
      "description": "Metadata server properties",
      "default": {
        "nic_type": "GVNIC",
        "node_count": 1,
        "node_cpu": "Intel Cascade Lake",
        "node_type": "n2-standard-32",
        "public_ip": true
      },
      "required": false
    },
    {
      "name": "mdt",
      "type": "object({\n    disk_bus   = string\n    disk_type  = string\n    disk_size  = number\n    disk_count = number\n  })",
      "description": "Metadata target properties",
      "default": {
        "disk_bus": "SCSI",
        "disk_count": 1,
        "disk_size": 3500,
        "disk_type": "pd-ssd"
      },
      "required": false
    },
    {
      "name": "mgs",
      "type": "object({\n    node_type  = string\n    node_cpu   = string\n    nic_type   = string\n    node_count = number\n    public_ip  = bool\n  })",
      "description": "Management server properties",
      "default": {
        "nic_type": "GVNIC",
        "node_count": 1,
        "node_cpu": "Intel Cascade Lake",
        "node_type": "n2-standard-32",
        "public_ip": true
      },
      "required": false
    },
    {
      "name": "mgt",
      "type": "object({\n    disk_bus   = string\n    disk_type  = string\n    disk_size  = number\n    disk_count = number\n  })",
      "description": "Management target properties",
      "default": {
        "disk_bus": "SCSI",
        "disk_count": 1,
        "disk_size": 128,
        "disk_type": "pd-standard"
      },
      "required": false
    },
    {
      "name": "mnt",
      "type": "object({\n    disk_bus   = string\n    disk_type  = string\n    disk_size  = number\n    disk_count = number\n  })",
      "description": "Monitoring target properties",
      "default": {
        "disk_bus": "SCSI",
        "disk_count": 1,
        "disk_size": 128,
        "disk_type": "pd-standard"
      },
      "required": false
    },
    {
      "name": "network_name",
      "type": "string",
      "description": "The name of the VPC network to where the system is connected.",
      "default": null,
      "required": false
    },
    {
      "name": "network_properties",
      "type": "object({\n    routing = string\n    tier    = string\n    name    = string\n    auto    = bool\n    mtu     = number\n    new     = bool\n    nat     = bool\n  })",
      "description": "Network properties. Ignored if network_name is supplied.",
      "default": {
        "auto": false,
        "mtu": 1500,
        "name": "default",
        "nat": false,
        "new": false,
        "routing": "REGIONAL",
        "tier": "STANDARD"
      },
      "required": false
    },
    {
      "name": "oss",
      "type": "object({\n    node_type  = string\n    node_cpu   = string\n    nic_type   = string\n    node_count = number\n    public_ip  = bool\n  })",
      "description": "Object Storage server properties",
      "default": {
        "nic_type": "GVNIC",
        "node_count": 3,
        "node_cpu": "Intel Cascade Lake",
        "node_type": "n1-standard-16",
        "public_ip": true
      },
      "required": false
    },
    {
      "name": "ost",
      "type": "object({\n    disk_bus   = string\n    disk_type  = string\n    disk_size  = number\n    disk_count = number\n  })",
      "description": "Object Storage target properties",
      "default": {
        "disk_bus": "SCSI",
        "disk_count": 1,
        "disk_size": 3500,
        "disk_type": "pd-ssd"
      },
      "required": false
    },
    {
      "name": "project_id",
      "type": "string",
      "description": "Compute Platform project that will host the EXAScaler filesystem",
      "default": null,
      "required": true
    },
    {
      "name": "security",
      "type": "object({\n    enable_local      = bool\n    enable_ssh        = bool\n    ssh_source_range  = string\n    enable_http       = bool\n    http_source_range = string\n  })",
      "description": "Various firewall related rules",
      "default": {
        "enable_http": false,
        "enable_local": false,
        "enable_ssh": false,
        "http_source_range": "0.0.0.0/0",
        "ssh_source_range": "0.0.0.0/0"
      },
      "required": false
    },
    {
      "name": "service_account",
      "type": "object({\n    new  = bool\n    name = string\n  })",
      "description": "Service account name used by deploy application",
      "default": {
        "name": "default",
        "new": false
      },
      "required": false
    },
    {
      "name": "subnetwork_address",
      "type": "string",
      "description": "The IP range of internal addresses for the subnetwork",
      "default": null,
      "required": false
    },
    {
      "name": "subnetwork_name",
      "type": "string",
      "description": "The name of the VPC subnetwork to where the system is connected.",
      "default": null,
      "required": false
    },
    {
      "name": "subnetwork_properties",
      "type": "object({\n    address = string\n    private = bool\n    name    = string\n    new     = bool\n  })",
      "description": "Subnetwork properties. Ignored if subnetwork_name is supplied.",
      "default": {
        "address": "10.0.0.0/16",
        "name": "default",
        "new": false,
        "private": true
      },
      "required": false
    },
    {
      "name": "waiter",
      "type": "string",
      "description": "Waiter to check progress and result for deployment.",
      "default": null,
      "required": false
    },
    {
      "name": "zone",
      "type": "string",
      "description": "Compute Platform zone where the servers will be located",
      "default": null,
      "required": true
    }
  ],
  "modules": [
    {
      "name": "ddn_exascaler",
      "source": "github.com/DDNStorage/exascaler-cloud-terraform//gcp",
      "version": "b063430",
      "description": null
    }
  ],
  "outputs": [
    {
      "name": "mount_command",
      "description": "Command to mount the file system."
    },
    {
      "name": "network_storage",
      "description": "Describes a EXAScaler system to be mounted by other systems."
    },
    {
      "name": "private_addresses",
      "description": "Private IP addresses for all instances."
    },
    {
      "name": "ssh_console",
      "description": "Instructions to ssh into the instances."
    },
    {
      "name": "web_console",
      "description": "HTTP address to access the system web console."
    }
  ],
  "providers": [],
  "requirements": [
    {
      "name": "terraform",
      "version": "\u003e= 0.13.0"
    },
    {
      "name": "google",
      "version": "~\u003e 3.0"
    }
  ],
  "resources": []
}
