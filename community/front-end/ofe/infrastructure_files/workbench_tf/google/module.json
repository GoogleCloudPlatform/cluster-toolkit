{
  "header": "Copyright 2021 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n     http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.",
  "footer": "",
  "inputs": [
    {
      "name": "billing_account_id",
      "type": "string",
      "description": "Billing Account associated to the GCP Resources",
      "default": "",
      "required": false
    },
    {
      "name": "boot_disk_size_gb",
      "type": "number",
      "description": "The size of the boot disk in GB attached to this instance",
      "default": 100,
      "required": false
    },
    {
      "name": "boot_disk_type",
      "type": "string",
      "description": "Disk types for notebook instances",
      "default": "PD_SSD",
      "required": false
    },
    {
      "name": "create_network",
      "type": "bool",
      "description": "If the module has to be deployed in an existing network, set this variable to false.",
      "default": false,
      "required": false
    },
    {
      "name": "create_project",
      "type": "bool",
      "description": "Set to true if the module has to create a project.  If you want to deploy in an existing project, set this variable to false.",
      "default": false,
      "required": false
    },
    {
      "name": "enable_services",
      "type": "bool",
      "description": "Enable the necessary APIs on the project.  When using an existing project, this can be set to false.",
      "default": false,
      "required": false
    },
    {
      "name": "folder_id",
      "type": "string",
      "description": "Folder ID where the project should be created. It can be skipped if already setting organization_id. Leave blank if the project should be created directly underneath the Organization node. ",
      "default": "",
      "required": false
    },
    {
      "name": "image_family",
      "type": "string",
      "description": "Image of the AI notebook.",
      "default": "tf-latest-cpu",
      "required": false
    },
    {
      "name": "image_project",
      "type": "string",
      "description": "Google Cloud project where the image is hosted.",
      "default": "deeplearning-platform-release",
      "required": false
    },
    {
      "name": "ip_cidr_range",
      "type": "string",
      "description": "Unique IP CIDR Range for AI Notebooks subnet",
      "default": "10.142.190.0/24",
      "required": false
    },
    {
      "name": "machine_type",
      "type": "string",
      "description": "Type of VM you would like to spin up",
      "default": "n1-standard-1",
      "required": false
    },
    {
      "name": "network_name",
      "type": "string",
      "description": "Name of the network to be created.",
      "default": "ai-notebook",
      "required": false
    },
    {
      "name": "notebook_count",
      "type": "string",
      "description": "Number of AI Notebooks requested",
      "default": "1",
      "required": false
    },
    {
      "name": "organization_id",
      "type": "string",
      "description": "Organization ID where GCP Resources need to get spin up. It can be skipped if already setting folder_id",
      "default": "",
      "required": false
    },
    {
      "name": "owner_id",
      "type": "list(any)",
      "description": "Billing Account associated to the GCP Resources",
      "default": [
        ""
      ],
      "required": false
    },
    {
      "name": "project",
      "type": "string",
      "description": "Project in which to launch the AI Notebooks.",
      "default": "",
      "required": false
    },
    {
      "name": "project_name",
      "type": "string",
      "description": "Project name or ID, if it's an existing project.",
      "default": "gcluster-discovery",
      "required": false
    },
    {
      "name": "random_id",
      "type": "string",
      "description": "Adds a suffix of 4 random characters to the `project_id`",
      "default": null,
      "required": false
    },
    {
      "name": "region",
      "type": "string",
      "description": "Cloud Region associated to the AI Notebooks.",
      "default": "us-east4",
      "required": false
    },
    {
      "name": "set_external_ip_policy",
      "type": "bool",
      "description": "Enable org policy to allow External (Public) IP addresses on virtual machines.",
      "default": false,
      "required": false
    },
    {
      "name": "set_shielded_vm_policy",
      "type": "bool",
      "description": "Apply org policy to disable shielded VMs.",
      "default": false,
      "required": false
    },
    {
      "name": "set_trustedimage_project_policy",
      "type": "bool",
      "description": "Apply org policy to set the trusted image projects.",
      "default": false,
      "required": false
    },
    {
      "name": "subnet_name",
      "type": "string",
      "description": "Name of the subnet where to deploy the Notebooks.",
      "default": "subnet-ai-notebook",
      "required": false
    },
    {
      "name": "trusted_users",
      "type": "set(string)",
      "description": "The list of trusted users.",
      "default": [],
      "required": false
    },
    {
      "name": "wb_startup_script_bucket",
      "type": "string",
      "description": "Name for the bucket where the workbench startup script is stored. ",
      "default": "",
      "required": false
    },
    {
      "name": "wb_startup_script_name",
      "type": "string",
      "description": "Name \u0026 Path for the wb startup script file when uploaded to GCP cloud storage",
      "default": "",
      "required": false
    },
    {
      "name": "zone",
      "type": "string",
      "description": "Cloud Zone associated to the AI Notebooks",
      "default": "us-east4-c",
      "required": false
    }
  ],
  "modules": [
    {
      "name": "project_radlab_ds_analytics",
      "source": "terraform-google-modules/project-factory/google",
      "version": "~\u003e 11.0",
      "description": null
    },
    {
      "name": "vpc_ai_notebook",
      "source": "terraform-google-modules/network/google",
      "version": "~\u003e 3.0",
      "description": null
    }
  ],
  "outputs": [
    {
      "name": "deployment_id",
      "description": "RADLab Module Deployment ID"
    },
    {
      "name": "notebooks_instance_names",
      "description": "Notebook Instance Names"
    },
    {
      "name": "project_radlab_ds_analytics_id",
      "description": "Analytics Project ID"
    }
  ],
  "providers": [
    {
      "name": "google",
      "alias": null,
      "version": "\u003e= 3.87.0"
    },
    {
      "name": "random",
      "alias": null,
      "version": "\u003e= 2.0"
    },
    {
      "name": "time",
      "alias": null,
      "version": "\u003e= 0.7.2"
    }
  ],
  "requirements": [
    {
      "name": "terraform",
      "version": "~\u003e 1.0"
    },
    {
      "name": "google",
      "version": "\u003e= 3.87.0"
    },
    {
      "name": "random",
      "version": "\u003e= 2.0"
    },
    {
      "name": "time",
      "version": "\u003e= 0.7.2"
    }
  ],
  "resources": [
    {
      "type": "notebooks_instance",
      "name": "ai_notebook",
      "provider": "google",
      "source": "hashicorp/google",
      "mode": "managed",
      "version": "latest",
      "description": null
    },
    {
      "type": "project_iam_member",
      "name": "sa_p_notebook_permissions",
      "provider": "google",
      "source": "hashicorp/google",
      "mode": "managed",
      "version": "latest",
      "description": null
    },
    {
      "type": "project_organization_policy",
      "name": "external_ip_policy",
      "provider": "google",
      "source": "hashicorp/google",
      "mode": "managed",
      "version": "latest",
      "description": null
    },
    {
      "type": "project_organization_policy",
      "name": "shielded_vm_policy",
      "provider": "google",
      "source": "hashicorp/google",
      "mode": "managed",
      "version": "latest",
      "description": null
    },
    {
      "type": "project_organization_policy",
      "name": "trustedimage_project_policy",
      "provider": "google",
      "source": "hashicorp/google",
      "mode": "managed",
      "version": "latest",
      "description": null
    },
    {
      "type": "project_service",
      "name": "enabled_services",
      "provider": "google",
      "source": "hashicorp/google",
      "mode": "managed",
      "version": "latest",
      "description": null
    },
    {
      "type": "service_account",
      "name": "sa_p_notebook",
      "provider": "google",
      "source": "hashicorp/google",
      "mode": "managed",
      "version": "latest",
      "description": null
    },
    {
      "type": "service_account_iam_member",
      "name": "sa_ai_notebook_user_iam",
      "provider": "google",
      "source": "hashicorp/google",
      "mode": "managed",
      "version": "latest",
      "description": null
    },
    {
      "type": "storage_bucket_object",
      "name": "startup_script",
      "provider": "google",
      "source": "hashicorp/google",
      "mode": "managed",
      "version": "latest",
      "description": null
    },
    {
      "type": "id",
      "name": "default",
      "provider": "random",
      "source": "hashicorp/random",
      "mode": "managed",
      "version": "latest",
      "description": null
    },
    {
      "type": "sleep",
      "name": "wait_120_seconds",
      "provider": "time",
      "source": "hashicorp/time",
      "mode": "managed",
      "version": "latest",
      "description": null
    },
    {
      "type": "compute_network",
      "name": "default",
      "provider": "google",
      "source": "hashicorp/google",
      "mode": "data",
      "version": "latest",
      "description": null
    },
    {
      "type": "compute_subnetwork",
      "name": "default",
      "provider": "google",
      "source": "hashicorp/google",
      "mode": "data",
      "version": "latest",
      "description": null
    },
    {
      "type": "project",
      "name": "existing_project",
      "provider": "google",
      "source": "hashicorp/google",
      "mode": "data",
      "version": "latest",
      "description": null
    }
  ]
}
