---
- name: Install CentOS Software Collections
  yum:
    name: centos-release-scl
  when: ansible_distribution == 'CentOS'

- name: Install Dev Tools
  yum:
    name:
    - devtoolset-9
    - devtoolset-11
    - cmake
    - python2-devel
    - python36-devel
  when: ansible_distribution == 'CentOS'


- name: Add DevTools to default shells
  copy:
    dest: /etc/profile.d/98-devtools.sh
    content: |
      . /opt/rh/devtoolset-11/enable
    owner: root
    mode: 0755
    force: False
  when: ansible_distribution == 'CentOS'

- name: Install Debian Dev tools
  apt:
    name:
    - cmake
  when: ansible_distribution == 'Debian'
